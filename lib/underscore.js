/* Fengs.JS v3.0 2017-03-17 16:09:35 */ 
Fengs.add("common/underscore",function(e){function S(e){function t(t,n,r,i,s,o){for(;s>=0&&s<o;s+=e){var u=i?i[s]:s;r=n(r,t[u],u,t)}return r}return function(n,r,i,s){r=m(r,s,4);var o=!E(n)&&v.keys(n),u=(o||n).length,a=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=e),t(n,r,i,o,a,u)}}function N(e){return function(t,n,r){n=g(n,r);var i=t!=null&&t.length,s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function A(e,t){var n=L.length,r=e.constructor,s=v.isFunction(r)&&r.prototype||i,o="constructor";v.has(e,o)&&!v.contains(t,o)&&t.push(o);while(n--)o=L[n],o in e&&e[o]!==s[o]&&!v.contains(t,o)&&t.push(o)}var t=this,n=t._,r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=i.toString,f=i.hasOwnProperty,l=Array.isArray,c=Object.keys,h=s.bind,p=Object.create,d=function(){},v=function(e){if(e instanceof v)return e;if(!(this instanceof v))return new v(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=v),exports._=v):t._=v,v.VERSION="1.8.2";var m=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){return e==null?v.identity:v.isFunction(e)?m(e,t,n):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return g(e,t,Infinity)};var y=function(e,t){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}},b=function(e){if(!v.isObject(e))return{};if(p)return p(e);d.prototype=e;var t=new d;return d.prototype=null,t},w=Math.pow(2,53)-1,E=function(e){var t=e!=null&&e.length;return typeof t=="number"&&t>=0&&t<=w};v.each=v.forEach=function(e,t,n){t=m(t,n);var r,i;if(E(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=v.keys(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e},v.map=v.collect=function(e,t,n){t=g(t,n);var r=!E(e)&&v.keys(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s},v.reduce=v.foldl=v.inject=S(1),v.reduceRight=v.foldr=S(-1),v.find=v.detect=function(e,t,n){var r;E(e)?r=v.findIndex(e,t,n):r=v.findKey(e,t,n);if(r!==void 0&&r!==-1)return e[r]},v.filter=v.select=function(e,t,n){var r=[];return t=g(t,n),v.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},v.reject=function(e,t,n){return v.filter(e,v.negate(g(t)),n)},v.every=v.all=function(e,t,n){t=g(t,n);var r=!E(e)&&v.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0},v.some=v.any=function(e,t,n){t=g(t,n);var r=!E(e)&&v.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n){return E(e)||(e=v.values(e)),v.indexOf(e,t,typeof n=="number"&&n)>=0},v.invoke=function(e,t){var n=u.call(arguments,2),r=v.isFunction(t);return v.map(e,function(e){var i=r?t:e[t];return i==null?i:i.apply(e,n)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=E(e)?e:v.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s>r&&(r=s)}else t=g(t,n),v.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r},v.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=E(e)?e:v.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s<r&&(r=s)}else t=g(t,n),v.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r},v.shuffle=function(e){var t=E(e)?e:v.values(e),n=t.length,r=Array(n);for(var i=0,s;i<n;i++)s=v.random(0,i),s!==i&&(r[i]=r[s]),r[s]=t[i];return r},v.sample=function(e,t,n){return t==null||n?(E(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,n){return t=g(t,n),v.pluck(v.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,n,r){var i={};return n=g(n,r),v.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)}),i}};v.groupBy=x(function(e,t,n){v.has(e,n)?e[n].push(t):e[n]=[t]}),v.indexBy=x(function(e,t,n){e[n]=t}),v.countBy=x(function(e,t,n){v.has(e,n)?e[n]++:e[n]=1}),v.toArray=function(e){return e?v.isArray(e)?u.call(e):E(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return e==null?0:E(e)?e.length:v.keys(e).length},v.partition=function(e,t,n){t=g(t,n);var r=[],i=[];return v.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)}),[r,i]},v.first=v.head=v.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},v.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var T=function(e,t,n,r){var i=[],s=0;for(var o=r||0,u=e&&e.length;o<u;o++){var a=e[o];if(E(a)&&(v.isArray(a)||v.isArguments(a))){t||(a=T(a,t,n));var f=0,l=a.length;i.length+=l;while(f<l)i[s++]=a[f++]}else n||(i[s++]=a)}return i};v.flatten=function(e,t){return T(e,t,!1)},v.without=function(e){return v.difference(e,u.call(arguments,1))},v.uniq=v.unique=function(e,t,n,r){if(e==null)return[];v.isBoolean(t)||(r=n,n=t,t=!1),n!=null&&(n=g(n,r));var i=[],s=[];for(var o=0,u=e.length;o<u;o++){var a=e[o],f=n?n(a,o,e):a;t?((!o||s!==f)&&i.push(a),s=f):n?v.contains(s,f)||(s.push(f),i.push(a)):v.contains(i,a)||i.push(a)}return i},v.union=function(){return v.uniq(T(arguments,!0,!0))},v.intersection=function(e){if(e==null)return[];var t=[],n=arguments.length;for(var r=0,i=e.length;r<i;r++){var s=e[r];if(v.contains(t,s))continue;for(var o=1;o<n;o++)if(!v.contains(arguments[o],s))break;o===n&&t.push(s)}return t},v.difference=function(e){var t=T(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){var t=e&&v.max(e,"length").length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=v.pluck(e,r);return n},v.object=function(e,t){var n={};for(var r=0,i=e&&e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},v.indexOf=function(e,t,n){var r=0,i=e&&e.length;if(typeof n=="number")r=n<0?Math.max(0,i+n):n;else if(n&&i)return r=v.sortedIndex(e,t),e[r]===t?r:-1;if(t!==t)return v.findIndex(u.call(e,r),v.isNaN);for(;r<i;r++)if(e[r]===t)return r;return-1},v.lastIndexOf=function(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=n<0?r+n+1:Math.min(r,n+1));if(t!==t)return v.findLastIndex(u.call(e,0,r),v.isNaN);while(--r>=0)if(e[r]===t)return r;return-1},v.findIndex=N(1),v.findLastIndex=N(-1),v.sortedIndex=function(e,t,n,r){n=g(n,r,1);var i=n(t),s=0,o=e.length;while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s},v.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i};var C=function(e,t,n,r,i){if(r instanceof t){var s=b(e.prototype),o=e.apply(s,i);return v.isObject(o)?o:s}return e.apply(n,i)};v.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,u.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),r=function(){return C(e,r,t,this,n.concat(u.call(arguments)))};return r},v.partial=function(e){var t=u.call(arguments,1),n=function(){var r=0,i=t.length,s=Array(i);for(var o=0;o<i;o++)s[o]=t[o]===v?arguments[r++]:t[o];while(r<arguments.length)s.push(arguments[r++]);return C(e,n,this,this,s)};return n},v.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=v.bind(e[r],e);return e},v.memoize=function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return v.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},v.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:v.now(),o=null,s=e.apply(r,i),o||(r=i=null)};return function(){var f=v.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),u=f,s=e.apply(r,i),o||(r=i=null)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},v.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=v.now()-o;f<t&&f>=0?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=v.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2);var k=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(c)return c(e);var t=[];for(var n in e)v.has(e,n)&&t.push(n);return k&&A(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return k&&A(e,t),t},v.values=function(e){var t=v.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},v.mapObject=function(e,t,n){t=g(t,n);var r=v.keys(e),i=r.length,s={},o;for(var u=0;u<i;u++)o=r[u],s[o]=t(e[o],o,e);return s},v.pairs=function(e){var t=v.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},v.invert=function(e){var t={},n=v.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()},v.extend=y(v.allKeys),v.extendOwn=v.assign=y(v.keys),v.findKey=function(e,t,n){t=g(t,n);var r=v.keys(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}},v.pick=function(e,t,n){var r={},i=e,s,o;if(i==null)return r;v.isFunction(t)?(o=v.allKeys(i),s=m(t,n)):(o=T(arguments,!1,!1,1),s=function(e,t,n){return t in n},i=Object(i));for(var u=0,a=o.length;u<a;u++){var f=o[u],l=i[f];s(l,f,i)&&(r[f]=l)}return r},v.omit=function(e,t,n){if(v.isFunction(t))t=v.negate(t);else{var r=v.map(T(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(r,t)}}return v.pick(e,t,n)},v.defaults=y(v.allKeys,!0),v.create=function(e,t){var n=b(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0};var O=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=a.call(e);if(i!==a.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,u=t.constructor;if(o!==u&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var f=n.length;while(f--)if(n[f]===e)return r[f]===t;n.push(e),r.push(t);if(s){f=e.length;if(f!==t.length)return!1;while(f--)if(!O(e[f],t[f],n,r))return!1}else{var l=v.keys(e),c;f=l.length;if(v.keys(t).length!==f)return!1;while(f--){c=l[f];if(!v.has(t,c)||!O(e[c],t[c],n,r))return!1}}return n.pop(),r.pop(),!0};v.isEqual=function(e,t){return O(e,t)},v.isEmpty=function(e){return e==null?!0:E(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?e.length===0:v.keys(e).length===0},v.isElement=function(e){return!!e&&e.nodeType===1},v.isArray=l||function(e){return a.call(e)==="[object Array]"},v.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return a.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(v.isFunction=function(e){return typeof e=="function"||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return e===!0||e===!1||a.call(e)==="[object Boolean]"},v.isNull=function(e){return e===null},v.isUndefined=function(e){return e===void 0},v.has=function(e,t){return e!=null&&f.call(e,t)},v.noConflict=function(){return t._=n,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=function(e){return function(t){return t==null?void 0:t[e]}},v.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var r=Array(Math.max(0,e));t=m(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},v.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=v.invert(M),D=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}};v.escape=D(M),v.unescape=D(_),v.result=function(e,t,n){var r=e==null?void 0:e[t];return r===void 0&&(r=n),v.isFunction(r)?r.call(e):r};var P=0;v.uniqueId=function(e){var t=++P+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,F=function(e){return"\\"+B[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var r=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(j,F),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,v)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a},v.chain=function(e){var t=v(e);return t._chain=!0,t};var I=function(e,t){return e._chain?v(t).chain():t};return v.mixin=function(e){v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),I(this,n.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0],I(this,n)}}),v.each(["concat","join","slice"],function(e){var t=r[e];v.prototype[e]=function(){return I(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return v}),v})